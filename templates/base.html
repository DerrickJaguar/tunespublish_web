{% load static %}
{% include 'chat_bot.html' %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="jfk7kB7nVZyaGC-jAzqr-OmOKUtUWWvpNwUzSJS-cKU" />
    <link rel="icon" type="image/png" href="/media/favicon.png"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{% block title %} {% endblock title %}</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>

    <!-- Add this in the <head> section of your base.html -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    
    <!-- <link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Roboto+Mono&display=swap" rel="stylesheet"> -->
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet"> 
    
    <link href="{% static 'musicapp/css/musicplayer.css' %}" rel="stylesheet">

    <link rel="icon" href="/static/images/icon.png" type="image/x-icon">

    
    <script src="{% static 'musicapp/js/recommendation.js' %}"></script>  <!-- Add your recommendation script here -->
    
    <div id="popup-container">
    
    </div>

    

    
    <style>
        .navbar
        {
            font-family: 'Source Code Pro', monospace;
        }
        .hovereffect {
    width: 100%;
    height: 100%;
    float: left;
    overflow: hidden;
    position: relative;
    text-align: center;
    cursor: default;
  }

  .hovereffect .overlay {
    width: 100%;
    height: 100%;
    position: absolute;
    overflow: hidden;
    top: 0;
    left: 0;
    opacity: 0;
    background-color: rgba(0, 0, 0, 0.5);
    -webkit-transition: all .4s ease-in-out;
    transition: all .4s ease-in-out
  }

  .hovereffect img {
    display: block;
    position: relative;
    -webkit-transition: all .4s linear;
    transition: all .4s linear;
  }

  .hovereffect h2 {
    text-transform: uppercase;
    color: #fff;
    text-align: center;
    position: relative;
    font-size: 17px;
    background: rgba(0, 0, 0, 0.6);
    -webkit-transform: translatey(-100px);
    -ms-transform: translatey(-100px);
    transform: translatey(-100px);
    -webkit-transition: all .2s ease-in-out;
    transition: all .2s ease-in-out;
    padding: 10px;
  }

  .hovereffect a.info {
    text-decoration: none;
    display: inline-block;
    text-transform: uppercase;
    color: #fff;
    border: 1px solid #fff;
    background-color: transparent;
    opacity: 0;
    filter: alpha(opacity=0);
    -webkit-transition: all .2s ease-in-out;
    transition: all .2s ease-in-out;
    margin: 50px 0 0;
    padding: 7px 14px;
  }

  .hovereffect a.info:hover {
    box-shadow: 0 0 5px #fff;
  }

  .hovereffect:hover img {
    -ms-transform: scale(1.2);
    -webkit-transform: scale(1.2);
    transform: scale(1.2);
  }

  .hovereffect:hover .overlay {
    opacity: 1;
    filter: alpha(opacity=100);
  }

  .hovereffect:hover h2,
  .hovereffect:hover a.info {
    opacity: 1;
    filter: alpha(opacity=100);
    -ms-transform: translatey(0);
    -webkit-transform: translatey(0);
    transform: translatey(0);
  }

  .hovereffect:hover a.info {
    -webkit-transition-delay: .2s;
    transition-delay: .2s;
  }

  html {
    position: relative;
    min-height: 100%;
  }

  body {
    /* Margin bottom by footer height */
    margin-bottom: 0px;
  }

  .footer {
    position: fixed;
    bottom: 30px;
    width: 100%;
    /* Set the fixed height of the footer here */
    height: 80px;
    background-color: #f5f5f5;
  }

  .sidebar {
        height: 100%;
        width: 0;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: #343a40;
        overflow-x: hidden;
        transition: 0.5s;
        padding-top: 60px;
    }

    .sidebar a {
        padding: 8px 8px 8px 32px;
        text-decoration: none;
        font-size: 18px;
        color: #fff;
        display: block;
        transition: 0.3s;
    }

    .sidebar a:hover {
        background-color: #495057;
    }

    .sidebar .closebtn {
        position: absolute;
        top: 10px;
        right: 25px;
        font-size: 36px;
    }

    .openbtn {
        font-size: 20px;
        cursor: pointer;
        background-color: #343a40;
        color: white;
        padding: 10px 15px;
        border: none;
        margin-right: 10px;
    }

    .openbtn:hover {
        background-color: #495057;
    }
    

   
        /* Main content styles */
        .content {
            transition: margin-left .5s;
            padding: 16px;
        }


  
  
       
    </style>
    {% block header %} {% endblock header %}
 
    
</head>
<body class="bg-light">
    <!-- Sidebar inside the navbar -->
<div id="mySidebar" class="sidebar">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <a href="{% url 'index' %}">Home</a>
  <a href="#" class="text-white" data-toggle="modal" data-target="#settingsModal">Settings</a>
  <a href="{% url 'upload' %}">Upload</a>
  <a href="{% url 'favourite' %}">Favorites</a>
  <a href="{% url 'playlist' %}">Playlists</a>
</div>

<!-- Settings Modal -->
<div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="settingsModalLabel">Settings</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <!-- Settings Form Content -->
        <h2>Welcome, {{ user.username }}!</h2>
        <h3>Set up your Account</h3>
        <form method="post" action="{% url 'settings' %}">
          {% csrf_token %}
          <!-- Account Information Section -->
          <div class="settings-section">
            <div class="form-group">
              <label for="email">Email:</label>
              <input type="email" id="email" name="email" class="form-control" value="{{ user.email }}">
            </div>
            <div class="form-group">
              <label for="username">Username:</label>
              <input type="text" id="username" name="username" class="form-control" value="{{ user.username }}">
            </div>
            <div class="form-group">
              <label for="password">New Password:</label>
              <input type="password" id="password" name="password" class="form-control">
            </div>
            <div class="form-group">
              <label for="confirm_password">Confirm New Password:</label>
              <input type="password" id="confirm_password" name="confirm_password" class="form-control">
            </div>
          </div>

          <!-- Music Preferences Section -->
          <div class="settings-section">
            <h3>Music Preferences</h3>
            <div class="form-group">
              <label for="genres">Favorite Genres:</label>
              <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="genresDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Select Genres
                </button>
                <div class="dropdown-menu" aria-labelledby="genresDropdown">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="pop" id="pop">
                    <label class="form-check-label" for="pop">Pop</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="rock" id="rock">
                    <label class="form-check-label" for="rock">Rock</label>
                  </div>
                  <!-- Add more genre options here -->
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="artists">Favorite Artists:</label>
              <input type="text" id="artists" name="artists" class="form-control" placeholder="Add your favorite artists...">
            </div>
          </div>

          <!-- Notifications Settings -->
          <div class="settings-section">
            <h3>Notifications</h3>
            <div class="form-group">
              <input type="checkbox" id="email_notifications" name="email_notifications" value="yes" {% if user.profile.email_notifications %}checked{% endif %}>
              <label for="email_notifications">Receive email notifications about new releases, recommendations, etc.</label>
            </div>
            <div class="form-group">
              <input type="checkbox" id="app_notifications" name="app_notifications" value="yes" {% if user.profile.app_notifications %}checked{% endif %}>
              <label for="app_notifications">Receive app notifications.</label>
            </div>
          </div>

          <!-- Privacy Settings -->
          <div class="settings-section">
            <h3>Privacy Settings</h3>
            <div class="form-group">
              <input type="checkbox" id="profile_visibility" name="profile_visibility" value="public" {% if user.profile.profile_visibility == 'public' %}checked{% endif %}>
              <label for="profile_visibility">Make my profile public.</label>
            </div>
            <div class="form-group">
              <input type="checkbox" id="share_playlists" name="share_playlists" value="yes" {% if user.profile.share_playlists %}checked{% endif %}>
              <label for="share_playlists">Allow others to see my public playlists.</label>
            </div>
          </div>

          
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" id="saveSettingsBtn">Save changes</button>
      </div>
    </div>
  </div>
</div>

<script>
  document.getElementById('saveSettingsBtn').addEventListener('click', function() {
    alert('Settings saved!');
  });
</script>
<style>
  /* Customize modal if needed */
  .modal-content {
      background-color: #f8f9fa;  /* Light background for better visibility */
      color: #343a40;
  }
</style>

<!-- Navbar -->
<nav class="navbar navbar-expand-md navbar-primary bg-primary">
  <div class="container">
      <!-- Sidebar toggle button inside the navbar on the left -->
      <button class="openbtn" onclick="openNav()">&#9776;</button>
      <h1><a href="{% url 'index' %}" class="navbar-brand text-white"><strong>TunesPublish</strong></a></h1>
      <div class="collapse navbar-collapse">
          <a href="{% url 'index' %}" class="btn btn-outline-light mt-2 mx-1">HOME</a>
          <a href="{% url 'all_songs' %}" class="btn btn-outline-light mt-2 mx-1">ALL SONGS</a>
          {% if request.user.is_active %}
          <div class="btn-group mt-2 mx-1">
              <a type="button" href="{% url 'mymusic' %}" class="btn btn-outline-light">MY MUSIC</a>
              <button type="button" class="btn btn-light dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">
                  <span class="sr-only">Toggle Dropdown</span>
              </button>
              <div class="dropdown-menu">
                  <a class="dropdown-item" href="{% url 'playlist' %}">Playlists</a>
                  <a class="dropdown-item" href="{% url 'favourite' %}">Favourite Songs</a>
                  <a class="dropdown-item" href="{% url 'upload' %}">Music Upload</a>
              </div>
          </div>
          {% endif %}
      </div>
      <div class="collapse navbar-collapse justify-content-end">
          {% if request.user.is_active %}
          <h5 class="text-white mt-3 mx-2">Hi, {{ request.user.username }}</h5>
          <a href="{% url 'logout' %}" class="btn btn-light mt-2 mx-2">Sign Out <i class="fa fa-sign-out"></i></a>
          {% else %}
          <a href="{% url 'login' %}" class="btn btn-light mt-2 mx-2"><i class="fa fa-sign-in"></i> Sign In</a>
          <a href="{% url 'signup' %}" class="btn btn-light mt-2 mx-2"><i class="fa fa-user-plus"></i> Sign Up</a>
          {% endif %}
      </div>
  </div>
</nav>


   
   
   <!-- JavaScript for Sidebar Toggle -->
<script>
  function openNav() {
      document.getElementById("mySidebar").style.width = "250px";
  }

  function closeNav() {
      document.getElementById("mySidebar").style.width = "0";
  }
</script>

<script> 
  // Load settings dynamically via AJAX when the modal is opened
  $('#settingsModal').on('show.bs.modal', function (e) {
      // Use AJAX to load settings page into modal body
      $.ajax({
          url: "{% url 'settings' %}",  // The URL for your settings view
          success: function(data) {
              $('#settingsContent').html(data);  // Replace modal content with settings page
          },
          error: function() {
              $('#settingsContent').html('<p>Error loading settings. Please try again later.</p>');
          }
      });
  });

  // Optional: Handle save button for settings changes
  $('#saveSettingsBtn').on('click', function() {
      // You can add AJAX form submission here if needed
      alert("Settings saved! (Add your logic here)");
  });
</script>




    

    {% block body %}
    {% endblock body %}


    
    <div class="content">
        <div class="lyrics"></div>
     </div>
    
    <br>
    <br>
    <br>
    
    <!-- jQuery first, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    
<!-- Start of LiveChat (www.livechat.com) code -->
<script>
    window.__lc = window.__lc || {};
    window.__lc.license = 17754420;
    ;(function(n,t,c){function i(n){return e._h?e._h.apply(null,n):e._q.push(n)}var e={_q:[],_h:null,_v:"2.0",on:function(){i(["on",c.call(arguments)])},once:function(){i(["once",c.call(arguments)])},off:function(){i(["off",c.call(arguments)])},get:function(){if(!e._h)throw new Error("[LiveChatWidget] You can't use getters before load.");return i(["get",c.call(arguments)])},call:function(){i(["call",c.call(arguments)])},init:function(){var n=t.createElement("script");n.async=!0,n.type="text/javascript",n.src="https://cdn.livechatinc.com/tracking.js",t.head.appendChild(n)}};!n.__lc.asyncInit&&e.init(),n.LiveChatWidget=n.LiveChatWidget||e}(window,document,[].slice))
</script>
<noscript><a href="https://www.livechat.com/chat-with/17754420/" rel="nofollow">Chat with us</a>, powered by <a href="https://www.livechat.com/?welcome" rel="noopener nofollow" target="_blank">LiveChat</a></noscript>
<!-- End of LiveChat code -->

    
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script src="{% static 'js/player.js' %}"></script>

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/smooth-scroll/16.1.3/smooth-scroll.min.js" integrity="sha512-HYG9E+RmbXS7oy529Nk8byKFw5jqM3R1zzvoV2JnltsIGkK/AhZSzciYCNxDMOXEbYO9w6MJ6SpuYgm5PJPpeQ==" crossorigin="anonymous"></script>
    
    {% block js %} {% endblock js %}
</body>
</html>
